#pragma once
#include <mutex>

//-----------------------------------------------------------------------------------------------
// Forward Declarations


//-----------------------------------------------------------------------------------------------
class Spinlock
{
public:
	//-----------------------------------------------------------------------------------------------
	// Constructors/Destructors
	Spinlock(){}
	~Spinlock(){}
	
	//-----------------------------------------------------------------------------------------------
	// Accessors/Mutators
	
	//-----------------------------------------------------------------------------------------------
	// Methods
	void Enter() { m_lock.lock(); } // Blocking call
	bool TryEnter() { return m_lock.try_lock(); }
	void Leave() { m_lock.unlock(); } // Must be called if entered
	
	//-----------------------------------------------------------------------------------------------
	// Members
	std::mutex m_lock;
};

